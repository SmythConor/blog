<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Final Year Project Blog">
		<meta name="author" content="Conor Smyth">

		<title>CASE4 Blog</title>
		<link href="./css/style.css" rel="stylesheet">

		<!-- Bootstrap -->
		<link href="./css/bootstrap.css" rel="stylesheet">
		<script src="./js/jquery.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	</head>

	<body>
		<div class="container">
			<div class="page-header">
				<h1>Final Year Project Blog</h1>
			</div>
			<div class="blog-post">
				<h3>Submission</h3>
				<em>05/24/2016</em>
				<p>
					There has been huge progress since the last blog post. This is a post after submitting the project to go through what was submitted. I go through information on each section below.
				</p>
				<h5>Calendar</h5>
				<p>
					The calendar screen now has an actual calendar again. I was able to implement a external widget from <a href="https://android-arsenal.com/">android aresnal</a> that allowed 
					functionality to switch between months and mark days. This is all the functionality I needed and so I deceided to integrate it with the entry list 
					that I had before so that it also displays a list of entries for the selected day. The date time issue still remains for the andoird application however. 
					The server returns a 400 Bad Request when I send a date time from the application, however if I do it from an outside
					REST client, the entry works perfectly. So for the submission, you can create an entry for the calendar, but you can only do it for the current day. 
					You can also delete an entry, however I had similar issues with the editing so I left this piece of functionality out for now. The user can also delete any entries.
				</p>
				<h5>Messaging</h5>
				<p>
					I was able to successfully integrate <a href="https://developers.google.com/cloud-messaging/">Google Cloud Messaging</a>, or GCM for short, into the application. 
					With GCM you can retrieve a registration id for a specific user and you can create device groups where you associate a set of registration ids with aa notifciation key on the GCM servers.
					Then whenever a message is sent in a group, the message is sent to that notification key and GCM distributes the message to all the registration ids associated with that notification key.
					When a user registers for the application a registration id is retrieved from the GCM servers and then I store this value for that user.
					Then when a user creates a group, I create a new device group on GCM and associate the appropriate registration id along with it.
					Then when the user goes to the messaging screen they can add text to the text field and click send. This will send the message to all the group members
				</p>
				<p>
					Here's an axample of the request that's required to associate a group with a registration id for creation:
				</p>

				<br />
				<img src="images/gcm_create_example.png" />

				<p>
					After this you can add people to the device group with a request in this form:
				</p>

				<br />
				<img src="images/gcm_add_example.png"/>

				<p>
					And here is how you send a message to a group:
				</p>

				<br />
				<img src="images/gcm_send_example.png" />

				<p>
					For the submitted version of the messaging, there a few known issues. The first issue is that the messages are sometimes slow to deliver. This is out of my control as the sending is handled
					by GCM so this is something that has to stay. The next issue is that the messages themselves aren't stored, so when the used loses focus on the group screen, the memory is collected by the garbage collector and hence the messages are deleted from view. I have a small bit of back end implementation to store the messges done however this was not included in submission. The other issues are to do with the UX on the messaging screen itself, however I feel this is lower priority to the actual functionality available.
				</p>
				<h5>To-Do List</h5>
				<p>
					The to do list screen displays the items stored in the database for that group. The entries each have a priority as high, medium or low. The entries are displayed ina  list format with the priority clearly indicated on each entry. When no entries exist there is an example entry to show the user what an entry would look like. There is an add button that lets the user create an entry, however just as with the calendar entry creation, the timestamps cause errors when the request is sent from the application so the functionality for picking a due date is not available. As with the calendar entry editing, this functionality is left out due to the timestamp issue. The user can delete entries on the list also.
				</p>
				<h5>Validation</h5>
				<p>
					I have been updating the functional test suite with the new functionality and have manually tested the user interface executing each test case. This test suite acts as a regresssion suite for ensuring older functionality still functions correctly after changes are made. The server is tested using JUnit and are updated upon any code updates to ensure they're testing properly.
				</p>
				<h5>Submission</h5>
				<p>
					As of the 23rd of May I have submitted the assignment. I am happy with what has been submitted. There's some functionality left out however this is for good reason.
					<b><a href="docs/technical_specification.pdf">Here</a></b> is the technical specification for the application and <b><a href="docs/user_manual.pdf">here</a></b> is the 
					user manual. These outline the technical details of what was implemented and how it was implemented. They are the final copies that were submitted.
				</p>
				<h5>Expo Feedback</h5>
				<p>
					Here are a couple of noteworthy ideas from expo feedback for possible future implementation:
				</p>
				<p>
					Develop some function that can allow the users of a whatsapp group to automatically create a group in Agenda. This would be very benficial for groups initially starting as a whatsapp group but feel they needed more group related functionality.
				</p>
				<p>
					Integration with holidays in the calendar. Firstly, have a default set of holiday days set in the calendar by default. This would allows users to see things like bank holidays and could help them recognise them and plan around it. Secondly, implement some form of calendar importing so that a user could import the details from another calendar into this calendar allowing the user to share details that they might want to share.
				</p>
			</div>
			<div class="blog-post">
				<h3>Group, Calendar and Testing</h3>
				<em>04/11/2016</em>
				<p>
					Most of the group and calendar functionality is implemented and functional tests created and executed. The application has also 
					been tested by some users to cover some user acceptance testing. No issues were found. As I have not blogged in a while there is
					a good bit more functionality.
				</p>
				<h5>Group</h5>
				<p>
					Users can now create a group, add members to groups and have all of their groups displayed in a list view on their main screen.
					Group members can change the name of the group and the group admin is able to remove members from the group. There 
					are functional tests implemented to test this functionality, an example of some of the tests documented are shown in figure 1. 
					This functionality will also be put through some more UAT from users of the system to ensure the functionality is up to 
					standard and to get any feedback necessary.
				</p>
				<p>
					The screen for an actual group is a tabbed view with tabs calendar, messaging and to-do list. Here users can swipe between views
					and pick the screen chosen.
				</p>
				<h5>Calendar</h5>
				<p>
					For the calendar screen, I will need to change the design to have just a list of entries to the calendar which is sorted by the entries
					that will be next in time. I've also decided to implement a recurring feature to allow for repeated entries so users won't need to 
					repeatedly create them. Expired entries will be hidden and shown upon request. There was an issue that I ran into where the date time
					could not be stored and retrieved properly from the database so I created a DateTime type handler that allows the data to be stored 
					and retrieved correctly. The functionality is not too complex and simply handles how the data should be manipulated. 
					Here is a screenshot of the class.
				</p>
				<br />
				<img src="images/date_time_type_handler.png" height="366" width="500" />
				<h5>Next steps</h5>
				<p>
					Next steps will be to create and implement the to-do list database, web service and user interface. This should not take long as the 
					storage and supply of data is very similar to the calendar entries so any issues that I ran into with the calendar entry will be known.
					The messaging functionality will then follow which will now be using <a href="https://developers.google.com/cloud-messaging/">
					Google cloud messaging service</a> to handle the communication between users through session keys stored on my side.
				</p>
				<em>Figure 1.</em>
				<img src="images/functional_test_example.png" height="250" width="1000" />
			</div>
			<div class="blog-post">
				<h3>Log In Successful</h3>
				<em>02/24/2016</em>
				<p>
					The log in now works. I had issues for a few days with returning the salt from the database and using it in the hash function. 
					Solved this issue by storing the salt as a hex string which for some reason stays the same when converted to and from bytes unlike a 
					string in java. Strange issue but it works now. The android code gave issues with converting to hex string due to lack of libraries 
					for android.
				</p>
				<p>
					I now need to create a transition from the log in screen to the main screen of the application. This will need some design work on the 
					UI front. I also need to get Logging implemented for the server and android. I started design on the data models for the rest of the 
					tables in the database, these are all initial ideas for the structures so they can be refactored later.
				</p>
			</div>
			<div class="blog-post">
				<h3>Sign Up/Testing</h3>
				<em>02/11/2016</em>
				<p>
					Users can now sign up through the server. The user must enter a name, email and password to register. The password is encrypted with a 
					random salt and stored in the DB. I've fixed the issue with the repetitve code and made a generic service caller for calling the 
					server from the application. I've added CORS to the server also, so that the application can communicate with the server. 
				</p>
				<p>
					The next plan of action is to implement tests, create documentation and finish the CI builds. All new development stops until tests, 
					documentation and CI build are completed.
				</p>
			</div>
			<div class="blog-post">
				<h3>Progress</h3>
				<em>01/31/2016</em>
				<p>
					The application can now communicate from database to android application. I have test data in the database that can be accessed through 
					a simple API to read on the android application. Spring have android functionality that makes communicating with a RESTful API, however 
					the implementation is very bulky and needs serious improvement to be feasible for the application. I will need to wrap the framework in 
					a facade to keep to the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY principle</a> as much as possible. 
				</p>
				<p>
					As for further development it is important to finish the architecture in order to move on. This architecture includes things like, 
					getting the server and DB on an actual fixed server and not my laptop. It is also important to complete the CI builds with 
					<a href="https://jenkins-ci.org/">jenkins</a>, which integrates well with maven and git, so that I can use good build practices 
					to allow quick and easy deployment.
				</p> 
				<p>
					I have broken down the first set of stories in the "Log In" epic into the main stories that I can think of to implement a user 
					being able to log in. Future stories will be broken and prioritised along with other stories, to ensure the main functionality is 
					implemented, as time goes along.
				</p>
				<p>
					The first plan of action is to implement the User sign up and log in functionality. UX and security are the main focus for 
					sign up and log in.
				</p>
			</div>
			<div class="blog-post">
				<h3>Barebones</h3>
				<em>01/29/2016</em>
				<p>The barebones of an application are coming together. A test web service is set up and almost connected with the database. 
					The database server seems to have permissions issues blocking progress. Otherwise, the RESTful web service is working with basic 
					mocked data. I created a kanban board using <a href="https://taiga.io">Taiga</a>, a very useful free agile software development tool 
					that I will be using to track issues, new work, work in progress, work ready for testing or work completed. At the moment there are 
					huge stories(I would normally call epics) that I will break down into smaller stories and do correct pointing and split them 
					by priority. I've set up a personal schedule for myself to do work on this project which may change as I go along depending on 
					how development goes. Still a lot of work to do creating the android application, I am new to android development so there will 
					be some growing pains however I hope to quickly get the connection with the application and the server all the way through to the 
					DB working very soon. All of the repositories are set up and hosted on <a href="https://bitbucket.org/">bitbucket</a>, another very 
					nice to use and free git repository hosting service.</p>
			</div>
		</div>
	</body>
</html>
